<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Report - PageShield</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'classify/reportStyle.css' %}">
</head>
<body>
    <header>
        <a href="{% url 'url_form' %}" class="logo">PageShield</a>
    </header>
    <main>
        <div class="report-form">
            <h2>URL 신고하기</h2>
            <form id="report-form" method="post" action="{% url 'report' %}">
                {% csrf_token %}
                <label for="reported-url">신고할 URL</label>
                <input type="text" id="reported-url" name="reported-url" placeholder="URL을 입력하세요.." required>

                <label for="report-tag">신고 태그</label>
                <select id="report-tag" name="report-tag" required>
                    <option value="" disabled selected>신고 키워드를 선택하세요..</option>
                    <option value="정상">정상</option>
                    <option value="불법저작물배포사이트">불법저작물배포사이트</option>
                    <option value="성인사이트">성인사이트</option>
                    <option value="도박사이트">도박사이트</option>
                    <option value="기타">기타</option>
                </select>
                <input type="text" id="other-tag" name="other-tag" placeholder="기타 키워드를 입력하세요.." style="display:none; margin-top: 10px;">

                <label for="report-reason">신고 이유</label>
                <textarea id="report-reason" name="report-reason" rows="4" placeholder="신고 사유를 입력하세요.." required></textarea>

                <button type="submit">신고하기</button>
            </form>
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const reportTagSelect = document.getElementById('report-tag');
            const otherTagInput = document.getElementById('other-tag');

            reportTagSelect.addEventListener('change', function() {
                if (this.value === '기타') {
                    otherTagInput.style.display = 'block';
                    otherTagInput.required = true;
                } else {
                    otherTagInput.style.display = 'none';
                    otherTagInput.required = false;
                    otherTagInput.value = '';
                }
            });
        });
    </script>
</body>
</html>
